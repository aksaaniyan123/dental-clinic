(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"1Z3a":function(e,t,a){},"2uLe":function(e,t,a){"use strict";var n=a("mj2O"),c=a.n(n),r=a("7SM1"),i=a("8Epr"),o=a("Hvhg"),s=a("ERkP"),u=a("uDfI"),l=a("vTYT"),d=a("7oto");t.a=function useSetPreviewHeight(){var e=Object(s.useRef)(null),t=Object(u.c)(function(e){return!!e.conversations.activeConversation}),a=Object(u.c)(o.b).showBranding,n=void 0!==a&&a,b=Object(i.a)().noPolicy,f=Object(u.c)(function(e){return e.session.gdpr}),m=f.hasConsent,O=f.declinedConsent,v=Object(s.useCallback)(function(){var e=0,t=!n&&b;return O&&(e+=40),t&&(e+=18),m||(e+=t?14:7),e},[O,m,b,n]),j=Object(s.useCallback)(function(){return e.current?e.current.clientHeight:200},[e]),h=Object(s.useCallback)(function(){var e=Object(r.a)(c.a.mark(function _callee(e){var a,n,r,i,o=arguments;return c.a.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(a=o.length>1&&void 0!==o[1]&&o[1],!t||!m){c.next=3;break}return c.abrupt("return");case 3:if(n=v(),r=j(),"205px"!==(i=e?"".concat(r+155-n,"px"):"0px")){c.next=8;break}return c.abrupt("return");case 8:Object(d.a)({topic:"set-frame-height",message:{height:i,name:l.b.CHAT,transition:!0,transitionHeight:a}});case 9:case"end":return c.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),[t,m,v,j]),g=Object(s.useCallback)(Object(r.a)(c.a.mark(function _callee2(){var e;return c.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e=j(),Object(d.a)({topic:"set-frame-height",message:{height:"".concat(e+80,"px"),name:l.b.SLIDER,transition:!0,transitionHeight:!1}});case 2:case"end":return t.stop()}},_callee2)})),[j]),p=Object(s.useCallback)(Object(r.a)(c.a.mark(function _callee3(){var e;return c.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:e=j(),Object(d.a)({topic:"set-frame-height",message:{height:"".concat(e+35,"px"),name:l.b.EMAIL_CAPTURE,transition:!0,transitionHeight:!1}});case 2:case"end":return t.stop()}},_callee3)})),[j]);return{previewRef:e,setChatHeight:h,setSliderHeight:g,setEmailCaptureHeight:p}}},"9Hpm":function(e,t,a){},G5CQ:function(e,t,a){},Gxm1:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return s});var n=a("QtlZ"),c=a("LVcX"),r=a("0lfv"),i=a("CYoe"),o=function markTime(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n.a.dispatch(Object(i.c)(e,t))},s=function measureTime(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),a=Object(c.a)(null,["metrics","timeByName",e],n.a.getState());return a?(n.a.dispatch(Object(i.a)(e)),t-a):(Object(r.n)({type:"warn",data:['Tried to measure "'.concat(e,'" without mark')]}),null)}},MWt3:function(e,t,a){},SrLZ:function(e,t,a){"use strict";a.r(t);var n,c=a("mj2O"),r=a.n(c),i=a("7SM1"),o=a("s8DI"),s=a("OE2q"),u=a("O94r"),l=a.n(u),d=a("Rqwx"),b=a("fTFZ"),f=a("vkRn"),m=a("CwrG"),O=a("HXmn"),v=a("8eKL"),j=a("slYP"),h=a("BY8A"),g=a("+/Je"),p=a("fw6E"),E=a("1b8i"),w=a("gRD2"),y=a("fpJs"),C=a("6wvX"),k=a("Sn8X"),T=a("fJrp"),_=a("8Epr"),S=a("lE29"),L=a("swFs"),N=a("+Kbs"),H=a("nQD+"),A=a("jm9a"),I=a("12GJ"),x=a("noex"),R=a("mZ4K"),M=a("SsZN"),F=a("qixE"),D=a("g6eD"),B=a("LVcX"),U=a("ERkP"),P=a.n(U),G=a("uDfI"),V=a("6lNa"),Z=a("7oto"),J=a("nedb"),X=function createCampaignDismissedEvent(e,t){return Object(M.c)(V.b.CLICKED,t.id),"number"!==typeof e?null:Object(F.a)(V.b.DISMISSED,{conversationId:e})},Y=function useCloseChat(){var e=Object(J.a)(),t=Object(G.c)(function(e){return e.session.endUser}),a=Object(G.b)(),n=Object(U.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(G.c)(function(e){return e.view.isChatTakeover}),u=Object(G.c)(function(e){return Object(B.a)(null,["view","closeChatRedirectUrl"],e)}),l=Object(G.c)(function(e){return e.conversations.activeConversation}),d=Object(G.c)(function(e){return Object(B.a)(!1,["conversations","conversationStatus",l,"endUserResponded"],e)});Object(U.useEffect)(function(){r&&(a(Object(D.d)({chatOpen:!1,isChatTakeover:!1})),i(!1))},[r,a]);var b=Object(U.useCallback)(function(){var a;if(Object(Z.a)({topic:"remove-chat-takeover",message:{classNamesToRemove:["drift-frame-chat__takeover"]}}),!d){var n=[X(l,e)];if(e&&e.id){var c={campaignId:e.id,endUserId:t.id};e.attributes.playbookId&&(c.playbookId=e.attributes.playbookId),n.push(Object(Z.a)({topic:"send-usage-metric-event",message:{name:"Campaign Dismissed",attributes:c,publishImmediately:!0}}))}a=Promise.all(n)}if(u){var r=function redirect(){return Object(Z.a)({topic:"redirect-to-url",message:{url:u}})};a?a.then(r):r()}},[e,l,u,t.id,d]);return Object(U.useCallback)(function closeChat(){i(!0),s&&b()},[s,b])},K=a("58kB"),W=(a("1Z3a"),function ChatTakeover(){var e=Object(G.c)(function(e){return e.conversations.activeConversation}),t=Object(R.a)(),a=Object(K.a)(t).recipient,n=Object(S.a)(),c=n.conversationHeaderTextStyles,r=n.widgetSecondaryColor,i=Y();return P.a.createElement("div",{className:"drift-widget-active-conversation-header"},e&&P.a.createElement(P.a.Fragment,null,P.a.createElement(x.a,{size:"SMALL",id:a.id}),P.a.createElement("h1",{className:"drift-widget-recipient-name",style:c},a.name)),P.a.createElement(H.a,{onClick:i,className:"drift-widget-chat-takeover-close-button"},P.a.createElement(N.j,{fill:r,width:16,height:16})))}),$=a("nJ3u"),Q=a("GtSE"),z=function Time(e){var t=e.height,a=void 0===t?24:t,n=e.width,c=void 0===n?24:n,r=e.fill,i=void 0===r?"#FFF":r;return P.a.createElement("svg",{className:"drift-default-icon drift-default-icon--Time",width:c,height:a,viewBox:"0 0 20 20"},P.a.createElement("path",{d:"M3.55,10.3l.79-.78a.77.77,0,0,1,1.09,1.09L3.3,12.74a.79.79,0,0,1-1.11,0l-2-2.13A.77.77,0,1,1,1.33,9.54l.69.73V10a9,9,0,1,1,3.07,6.77.77.77,0,1,1,1-1.16A7.45,7.45,0,1,0,3.56,10C3.56,10.08,3.56,10.18,3.55,10.3Zm7.72-4.93v4.87h3.34a.77.77,0,0,1,0,1.54H10.5A.76.76,0,0,1,9.73,11V5.37a.77.77,0,0,1,1.54,0Z",fill:i}))},q=a("z24s"),ee=a("Tr4L"),te=a("0lfv"),ae=(a("9Hpm"),function ConversationHeader(){var e=Object(U.useRef)(),t=Object(q.a)(e),a=Object(ee.a)().t,n=Object(R.a)(),c=Object(K.a)(n).recipient,r=Object(G.c)(function(e){return e.conversations.conversations}),i=Object(S.a)(),o=i.backgroundStyles,s=i.conversationHeaderTextStyles,u=i.widgetSecondaryColor,d=Object(C.a)(),b=Object(p.a)(),f=b.conversationHistoryEnabled,m=b.conversationHistoryOpen,O=b.onToggleConversationHistory,v=f&&!m&&Object.keys(r).length>1,j=Object(U.useRef)(),h=Object(q.a)(j);return Object(U.useEffect)(function(){Object(te.m)(null===e||void 0===e?void 0:e.current)||(m?j.current.focus():e.current.focus())},[m]),P.a.createElement("div",{className:"drift-widget-active-conversation-header"},P.a.createElement(x.a,{size:"SMALL",id:c.id}),P.a.createElement("h1",{"aria-hidden":m,className:"drift-widget-recipient-name",style:s},c.name),P.a.createElement("div",{className:l()("drift-widget-conversation-history-header",{"drift-widget-conversation-history-header--open":m}),style:o,"aria-hidden":!m},P.a.createElement("style",null,"\n            .drift-widget-history-back-button.keyboard-focused svg {\n              ".concat(Object($.d)(o.background.toString().replace("#",""),u.replace("#","")),"\n            }\n          ")),P.a.createElement(H.a,{ref:j,className:l()("drift-widget-history-back-button",{"keyboard-focused":h}),onClick:function onClick(){return O(!m)},"aria-label":"Back to conversation",disabled:!m},P.a.createElement(Q.a,{color:u,width:20,height:20})),P.a.createElement("h1",{style:s},a("history.headerTitle"))),v&&P.a.createElement(P.a.Fragment,null,P.a.createElement("style",null,"\n              .drift-widget-history.keyboard-focused {\n                ".concat(Object($.b)(u.replace("#","")),"\n              }\n            ")),P.a.createElement(H.a,{className:l()("drift-widget-history",{"drift-widget-history--mobile":d,"drift-widget-history--open":m,"keyboard-focused":t}),"aria-label":"Open conversation history",disabled:m,onClick:function onClick(){return O(!m)},ref:e},P.a.createElement(z,{fill:u,height:20,width:20}))))}),ne=a("NFvl"),ce=function useDefaultGreeting(){var e=Object(ee.a)().t,t=Object(G.c)(function(t){var a=Object(ne.a)(["embed","configuration","theme","welcomeMessage"],t);return a||e("greeting.onlineMessage")}),a=Object(G.c)(function(e){return e.view.matchedHours}),n=Object(G.c)(function(t){var a=Object(ne.a)(["embed","configuration","theme","awayMessage"],t);return a||e("greeting.awayMessage")});return a?t:n},re=a("Vk0e"),ie=a("hm8b"),oe=a("Ztgx"),se=(a("txDs"),function GreetingMessage(e){var t=e.previewRef,a=ce(),n=Object(R.b)(),c=Object(G.c)(function(e){return e.view}).chatOpen,r=Object(T.a)(c),i=Object(G.c)(function(e){return e.view.matchedHours});Object(U.useEffect)(function(){Object(ie.a)(r)||c===r||(i?Object(M.s)(c):Object(M.a)(c))},[r,c,i]);var o=n.length>1;return Object(re.a)(),P.a.createElement("div",{className:l()("drift-widget-greeting",{"greeting-multiple-senders":o})},P.a.createElement(oe.a,{senderIds:n}),P.a.createElement("p",{ref:t,className:"drift-widget-greeting-content"},a))}),ue=a("xyhj"),le=a("hSLT"),de=a("Wjfv"),be=a("Ldxc"),fe=a("PjZB"),me=(a("Uo75"),function WelcomeMessage(e){var t=e.previewRef,a=Object(G.b)(),n=Object(G.c)(function(e){return e.view}).chatOpen,c=Object(R.b)(),o=Object(le.a)();if(!n)return null;var s=function(){var e=Object(i.a)(r.a.mark(function _callee(){return r.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.b)();case 2:a(Object(de.a)()),o.ctaType===fe.a.LINK_TO_URL&&a(Object(D.d)({chatOpen:!1}));case 4:case"end":return e.stop()}},_callee)}));return function onCtaClicked(){return e.apply(this,arguments)}}();return P.a.createElement("div",{className:"drift-widget-greeting"},P.a.createElement(oe.a,{senderIds:c}),P.a.createElement("div",{ref:t,className:"drift-widget-welcome-message-content"},P.a.createElement("div",{dangerouslySetInnerHTML:{__html:'\n              <div class="drift-welcome-message-content--body">\n                '.concat(o.body,"\n              </div>\n            ")}})),o.ctaCopy&&o.ctaType!==fe.a.CHAT_RESPONSE&&P.a.createElement("div",{className:"drift-widget-greeting-cta-wrapper"},P.a.createElement(ue.a,{ctaUrl:o.ctaUrl,ctaType:o.ctaType,ctaCopy:o.ctaCopy,onClick:s})))}),Oe="GREETING",ve="CHAT_TAKEOVER",je="CONVERSATION",he="GDPR",ge="WELCOME_MESSAGE",pe=(n={},Object(A.a)(n,ge,function(e){return P.a.createElement(me,e)}),Object(A.a)(n,Oe,function(e){return P.a.createElement(se,e)}),Object(A.a)(n,je,function(e){return P.a.createElement(ae,e)}),Object(A.a)(n,he,function(e){return P.a.createElement(I.a,e)}),Object(A.a)(n,ve,function(e){return P.a.createElement(W,e)}),n),Ee=a("2uLe"),we=(a("SwvN"),function HeaderLayout(e){var t=e.activeConversation,a=e.chatHidden,n=e.isChatTakeover,c=void 0!==n&&n,r=Object(G.b)(),i=Object(S.a)(),s=i.backgroundStyles,u=i.conversationHeaderTextStyles,d=Object(G.c)(function(e){return e.campaigns.activeCampaign}).id,b=Object(G.c)(function(e){return e.session.gdpr}).hasConsent,f=Object(C.a)(),m=Object(Ee.a)(),O=m.setChatHeight,v=m.previewRef,j=Object(G.c)(function(e){return e.view}).chatOpen,h=Object(U.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return b?c?ve:e?je:d?ge:Oe:he},[t,b,c,d]),g=Object(U.useState)(h()),p=Object(o.a)(g,2),E=p[0],w=p[1],y=Object(T.a)(E),k=E!==y;Object(U.useLayoutEffect)(function(){j&&!a&&O(j,k)},[j,a,O,k]),Object(U.useEffect)(function(){var e=h(t);e!==E&&w(e)},[t,d,b,h,E]);var _=pe[E],A=E!==je,I=f&&!c;return P.a.createElement("header",{className:l()("drift-widget-header",{"drift-widget-header--collapsed":A,"drift-widget-header--gdpr-consent":!b})},P.a.createElement(L.a,{style:s}),P.a.createElement("div",{className:"drift-widget-header--content"},P.a.createElement(_,{previewRef:v,resetChatHeight:function resetChatHeight(){O(j,!0)}})),I&&P.a.createElement(H.a,{onClick:function doToggleChat(){r(Object(D.d)({chatOpen:!1}))},className:"drift-widget-mobile-close","aria-label":"Close chat",style:u},P.a.createElement(N.j,{width:16,height:16})))}),ye=a("vjCh"),Ce=a("K7i0"),ke=a("bYXQ"),Te=a("Hvhg"),_e=a("da4L"),Se=a("Gxm1"),Le=a("TbSn"),Ne=a("kNJ0"),He=a("oPI6"),Ae=a("MFhO"),Ie=a("VpmR"),xe=a("4c+F"),Re=a("HSQL"),Me=(a("sXTY"),null),Fe=function ChatLayout(){var e=Object(G.b)(),t=Object(C.a)(),a=Object(U.useState)(!0),n=Object(o.a)(a,2),c=n[0],u=n[1];Object(k.a)();var d=Object(G.c)(function(e){return e.view}),L=d.chatOpen,N=d.isChatTakeover,H=Object(G.c)(Te.b).showBranding,A=void 0!==H&&H,I=Object(_.a)().noPolicy,x=!A&&I;Object(U.useLayoutEffect)(function(){N&&L&&Object(Z.a)({topic:"set-frame-width-and-height",message:{className:"drift-frame-chat__takeover",height:"100%",max:!0,name:"chat",width:"100%"}})},[N,L]);var R=Object(G.c)(function(e){return e.conversations.activeConversation}),M=Object(w.a)().fetchMessages,D=Object(T.a)(R),J=Object(G.c)(function(e){return e.conversations.conversations}),X=Object(G.c)(function(e){return e.conversations.messages}),Y=Object(G.c)(function(e){return Object(B.a)({},["conversations","messages",e.conversations.activeConversation],e)}),K=Object(G.c)(function(e){return Object(B.a)(!1,["conversations","conversationStatus",e.conversations.activeConversation,"permaclosed"],e)}),W=Object(U.useMemo)(function(){return Object(_e.p)(Y)},[Y]),$=Object(G.c)(function(e){return e.campaigns.activeCampaign}),Q=Object(U.useMemo)(function(){return Object(B.a)(null,["attributes","campaignDisplayType"],$)===Ae.a.WELCOME_MESSAGE},[$]),z=Object(G.c)(function(e){return e.session.gdpr}).hasConsent,q=Object(G.c)(function(e){return Object(B.a)(!1,["conversations","conversationStatus",R,"endUserResponded"],e)}),ee=Object(p.a)(),ae=ee.conversationHistoryOpen,ne=ee.conversationHistoryEnabled,ce=Object(S.a)().widgetBackgroundStyles;Object(U.useEffect)(function(){(function(){var t=Object(i.a)(r.a.mark(function _callee(){var t,a,n,c,i;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(t=!R||R===g.a,a=D===R,n=!!J[R]&&!!X[R],!(t||a||n||Object(ke.c)(R))){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,r.next=8,Object(s.h)(R);case 8:c=r.sent,i=c.data,e(Object(Ce.h)({conversation:i})),M({}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(5),Object(te.f)("Failed to fetch messages or active conversation",r.t0);case 17:case"end":return r.stop()}},_callee,null,[[5,14]])}));return function fetchInfoForActiveConversation(){return t.apply(this,arguments)}})()()},[R,e,M,D,J,X]),Object(U.useEffect)(function(){L?(function(){var e=Object(i.a)(r.a.mark(function _callee2(){return r.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)({topic:"focus-frame",message:{name:"chat"}});case 2:case"end":return e.stop()}},_callee2)}));return function focus(){return e.apply(this,arguments)}}()(),Me&&clearTimeout(Me),u(!1)):Me=setTimeout(function delaySetReflowHidden(){u(!0)},350)},[L]);var re=Object(U.useMemo)(function(){if(!z||!L)return!1;if($&&$.id&&!R){var e=!!Object(B.a)(null,["attributes","cta"],$),t="CHAT_RESPONSE"!==Object(B.a)(null,["attributes","cta","CtaType"],$);if(e&&t)return!1}var a=W.length>0&&W.length<=2&&!Object(_e.f)(W[0]);return!N||a||W.length>2},[$,R,z,N,W,L]);Object(U.useEffect)(function(){Object(Re.b)("WIDGET_CHAT_FRAME.start")},[]);var ie=Object(U.useRef)(!1);Object(U.useEffect)(function(){if(!ie.current&&N&&W.length>0){var e=Object(Se.b)("post_form_takeover_tti"),t=Object(Se.b)("post_form_takeover_show");e&&Object(xe.d)("Post Form Takeover TTI",e),t&&Object(xe.d)("Post Form Takeover Show",t),ie.current=!0}},[N,W]);var oe=Object(U.useMemo)(function(){if(K)return b.a.UNAVAILABLE;var e=Object(Le.a)(W);if(!e)return b.a.AVAILABLE;var t=Object(Ne.a)(-2,W),a=Object(_e.f)(t)&&Object(_e.h)(e);return Object(_e.f)(e)||a||Object(_e.i)(e)?b.a.UNAVAILABLE_BUTTONS:Object(_e.m)(e)||Object(_e.m)(t)&&Object(_e.h)(e)?b.a.AVAILABLE_BUTTONS:b.a.AVAILABLE},[W,K]),se=oe===b.a.AVAILABLE||oe===b.a.AVAILABLE_BUTTONS,ue=Object(E.a)(W,R),le=Object(U.useMemo)(function(){return Object(_e.d)(ue)},[ue]),de=Object(U.useMemo)(function(){return P.a.createElement(v.a,{messageGroups:le,messages:ue,reflowHidden:c,disabled:ae})},[le,ue,c,ae]),be=Object(y.a)(),fe=Object(U.useMemo)(function(){if(ue&&ue.length){var e=Object(Le.a)(ue);if(e&&Object(_e.j)(e))return e}return null},[ue]),me=z&&(!!R||N),Oe=!re||!se;return P.a.createElement("main",{className:l()("drift-widget-chat-layout",{"drift-widget-chat-layout__takeover":N&&!t,"drift-widget-chat-layout__takeover--noResponse":N&&!t&&!q}),role:"main","aria-label":"Chat window",tabIndex:-1},P.a.createElement(h.a,null),P.a.createElement("div",{className:l()("drift-widget-chat-wrapper",{"drift-widget-chat-wrapper__open":L,"drift-widget-chat-wrapper__closed":!L,"drift-widget-chat-wrapper__reflow-hidden":c,"drift-widget-chat-wrapper__active-conversation":me,"drift-widget-chat-wrapper__no-footer-content":x&&Oe})},P.a.createElement(we,{activeConversation:R,chatHidden:c,isChatTakeover:N}),!N&&ne&&P.a.createElement(f.a,null),me&&P.a.createElement("div",{className:l()("drift-widget-message-history",{"drift-widget-message-history--with-footer":be,"drift-widget-message-history--no-composer":Oe}),style:ce},de,0===W.length&&P.a.createElement(O.a,null)),P.a.createElement("div",{className:"drift-widget-chat-bottom"},re&&P.a.createElement(b.b,{state:oe,disabled:ae,onSubmit:function doSendMessage(t){if((Q||N)&&!R){var a=Object(B.a)(null,["attributes","playbookId"],$);!function sendSubmittedEventForChatResponseCampaign(){$&&"CHAT_RESPONSE"===Object(B.a)(null,["attributes","cta","CtaType"],$)&&Object(F.a)(V.b.SUBMITTED)}(),Object(ye.j)($.id,a)}e(Object(Ce.m)(t))},chatHidden:c,activeConversationId:R}),P.a.createElement(m.a,null)),R&&!!fe&&P.a.createElement(j.a,{message:fe})))};t.default=function(e){var t=Object(U.useState)(!1),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(G.c)(function(e){return e.view.initComplete}),u=Object(G.c)(function(e){return Object(B.a)("en",["embed","configuration","locale"],e)});return Object(U.useEffect)(function(){s&&!n&&function(){var e=Object(i.a)(r.a.mark(function _callee3(){return r.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ie.a)(u);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(te.n)({data:["i18n failed to load - ".concat(e.t0.message),e.t0],type:"warn"});case 8:c(!0);case 9:case"end":return e.stop()}},_callee3,null,[[0,5]])}));return function runAsync(){return e.apply(this,arguments)}}()()},[s,n,u]),P.a.createElement(He.a,null,s&&n?P.a.createElement(Fe,e):P.a.createElement(d.a,null))}},SwvN:function(e,t,a){},Uo75:function(e,t,a){},hSLT:function(e,t,a){"use strict";var n=a("LVcX"),c=a("uDfI");t.a=function useActiveAnnouncementCampaign(){var e=Object(c.c)(function(e){return Object(n.a)({},["campaigns","activeCampaign"],e)}),t=e.attributes,a=void 0===t?{}:t;return{id:e.id,playbookId:Object(n.a)(null,["playbookId"],a),ctaType:Object(n.a)(null,["cta","CtaType"],a),ctaCopy:Object(n.a)("",["cta","copy"],a),ctaUrl:Object(n.a)("",["cta","UrlLink"],a),body:a.message||"",title:a.title||"",thanksTitle:a.thankYouHeadline||"",thanksMessage:a.thankYouMessage||"",senderId:a.senderId,type:a.campaignDisplayType}}},sXTY:function(e,t,a){},swFs:function(e,t,a){"use strict";var n=a("ERkP"),c=a.n(n);a("G5CQ");t.a=function TopLine(e){var t=e.style;return c.a.createElement("div",{className:"drift-widget-header-top-line",style:t})}},txDs:function(e,t,a){},xyhj:function(e,t,a){"use strict";var n=a("nfbA"),c=a("nJ3u"),r=a("O94r"),i=a.n(r),o=a("z24s"),s=a("o3t1"),u=a("lE29"),l=a("ERkP"),d=a.n(l),b=a("uDfI"),f=a("PjZB"),m=a("7oto"),O=a("rTkt");a("MWt3");t.a=function CtaButton(e){var t=e.ctaUrl,a=e.ctaCopy,r=e.ctaType,v=e.onClick,j=e.ariaHidden,h=Object(s.a)(),g=h.hoverProps,p=h.isHovered,E=Object(u.a)(),w=E.activeColor,y=E.backgroundStyles,C=Object(b.c)(function(e){return e.campaigns.activeCampaign}),k=Object(l.useRef)(null),T=Object(o.a)(k),_=Object(l.useMemo)(function(){var e=p?Object(O.c)(y.background,-5):y.background;return Object(n.a)(Object(n.a)({},y),{},{background:e})},[y,p]),S=function onCtaClick(e){r===f.a.CHAT_RESPONSE?Object(m.a)({topic:"drift-api:open-chat"}):r===f.a.SCHEDULE_MEETING&&Object(m.a)({topic:"drift-api:schedule-meeting",message:{scheduleMeetingWith:C.attributes.senderId,options:{activeCampaign:C}}}),v&&v(e)};return Object(l.useEffect)(function(){var e=k;return setTimeout(function(){return e.current&&e.current.focus()},50),function(){return e.current&&e.current.blur()}},[]),r===f.a.LINK_TO_URL?d.a.createElement(d.a.Fragment,null,d.a.createElement("style",null,"\n            .drift-widget-announcement-cta-link-wrapper a.keyboard-focused {\n              ".concat(Object(c.d)("FFFFFF",w),"\n            }\n          ")),d.a.createElement("div",{className:"drift-widget-announcement-cta drift-widget-announcement-cta-link-wrapper",hidden:j},d.a.createElement("a",Object.assign({className:i()("drift-widget-announcement-cta-link",{"keyboard-focused":T&&!j}),href:t,onClick:S,target:"_blank",rel:"noopener noreferrer",ref:k,"aria-describedby":"drift-widget-announcement-cta-description",style:_,"aria-hidden":j},g),a),d.a.createElement("span",{hidden:!0,id:"drift-widget-announcement-cta-description"},a+"; opens an external site in a new window"))):d.a.createElement(d.a.Fragment,null,d.a.createElement("style",null,"\n          .drift-widget-announcement-cta.keyboard-focused {\n            ".concat(Object(c.d)("FFFFFF",w),"\n          }\n        ")),d.a.createElement("button",Object.assign({className:i()("drift-widget-announcement-cta",{"keyboard-focused":T}),onClick:S,style:_,ref:k},g),a))}}}]);